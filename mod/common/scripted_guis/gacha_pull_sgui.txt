sgui_gacha_pull = {
    scope = country

    effect = {
        pull_gacha = {
            scope = gacha_result
        }
        set_variable = {
            name = gacha_result
            value = scope:gacha_result
        }
        add_to_variable_list = {
            name = gacha_library
            target = scope:gacha_result
        }
        switch = {
            trigger = scope:gacha_result.var:gacha_rarity
            gacha_rarity_common = {
                add_to_variable_list = {
                    name = gacha_library_common
                    target = scope:gacha_result
                }
            }
            gacha_rarity_uncommon = {
                add_to_variable_list = {
                    name = gacha_library_uncommon
                    target = scope:gacha_result
                }
            }
            gacha_rarity_rare = {
                add_to_variable_list = {
                    name = gacha_library_rare
                    target = scope:gacha_result
                }
            }
            gacha_rarity_epic = {
                add_to_variable_list = {
                    name = gacha_library_epic
                    target = scope:gacha_result
                }
            }
            gacha_rarity_legendary = {
                add_to_variable_list = {
                    name = gacha_library_legendary
                    target = scope:gacha_result
                }
            }
        }
    }
}

sgui_gacha_pull_result = {
    scope = country

    is_shown = {
        has_variable = gacha_result
    }

    effect = {
        remove_variable = gacha_result
    }
}

sgui_gacha_pull_common = {
    scope = country

    is_shown = {
        var:gacha_result ?= {
            var:gacha_rarity ?= gacha_rarity_common
        }
    }
}

sgui_gacha_pull_uncommon = {
    scope = country

    is_shown = {
        var:gacha_result ?= {
            var:gacha_rarity ?= gacha_rarity_uncommon
        }
    }
}

sgui_gacha_pull_rare = {
    scope = country

    is_shown = {
        var:gacha_result ?= {
            var:gacha_rarity ?= gacha_rarity_rare
        }
    }
}

sgui_gacha_pull_epic = {
    scope = country

    is_shown = {
        var:gacha_result ?= {
            var:gacha_rarity ?= gacha_rarity_epic
        }
    }
}

sgui_gacha_pull_legendary = {
    scope = country

    is_shown = {
        var:gacha_result ?= {
            var:gacha_rarity ?= gacha_rarity_legendary
        }
    }
}